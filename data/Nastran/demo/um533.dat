ASSIGN OUTPUT2='OUTDIR:um533.f11',UNIT=11,DELETE
ID MSC, UM533    $ MODIFIED BY EDB - 7JUN85
$ Modified 18-Dec-2004 rak v2004
$Modified 19-May-1999 v71 mar
$ID       PROB001 TRUSS
DIAG 8
TIME 5
$CHKPNT YES
$BEGIN $ SIMPLE STATICS DMAP SEQUENCE
SOL 100 
MALTER 'MALTER:USERDMAP'
GP1     GEOM1,GEOM2,,,/GPL,EQEXIN,GPDT,CSTM,BGPDT,SIL,/S,N,LUSET/0/
                0 $ CREATE BASIC MODEL GEOMETRY
$       GPL--GRID POINT LIST
$       EQEXIN-- EQUILVALENCE BETWEEN EXTERNAL AND INTERNAL GRID ID
$       GPDT--GRID POINT DEFINITION TABLE
$       CSTM--COORDINATE SYSTEM TRANFORMATION TABLE
$       BGPDT--BASIC GRID POINT DEFINITION TABLE
$       SIL--SCALAR INDEX LIST
GP2     GEOM2,EQEXIN,EPT,,/ECT, $
$       ECT--ELEMENT CONNECTION TABLE
PLTSET  PCDB,BGPDT,ECT/PLTX,PLTPAR,GPSET,ELSET/S,N,NSILS/S,N,JPLOT $
$       PLTX--ILLEGAL SET MESSAGES
$       PLTPAR--PLOTTING PARAMETERS AND PLOT CARDS
$       GPSET--GRID POINTS IN EACH PLOT SET
$       ELSET--ELEMENTS IN EACH PLOT SET
PRTMSG  PLTX// $
COND    P1S,JPLOT $ IF NO UNDEFORMED PLOTS GO TO P1S
PLOT    PLTPAR,GPSET,ELSET,CASECC,BGPDT,,,,ECT/
        PLOTX1/NSILS/0/S,N,JPLOT/1/S,N,PFILE $
$       PLOTX1--ILLEGAL UNDEFORMED PLOT MESSAGES
PRTMSG  PLOTX1// $
LABEL   P1S $
$GP3     GEOM3,EQEXIN,GEOM2/SLT,ETT/0/0/0 $ BUILD STATIC LOADS AND
GP3     GEOM3,bgpdt,GEOM2,,,,,,,,,,/SLT,ETT,/0/0/0/0 $ BUILD STATIC LOADS AND
$               ELEMENT TEMPERATURE DATA
$       SLT--STATIC LOADS TABLE
$       ETT--ELEMENT TEMPERATURE DATA
TA1,    ,ECT,EPT,BGPDT,SIL,ETT,CSTM,,,/EST,,GEI,GPECT,,/LUSET/-1/
        0/1/0/0 $ ASSEMBLE TABELS
$       EST--ELEMENT SUMMARY TABLE
$       GEI--GENERAL ELEMENTS
$       GPECT--GRID POINT ELEMENT CONNECTION TABLE
$EMG      ESTDV,CSTMS,MPTX,DIT,,,,,,,BGPDTS,GPSNTS,ECTAS,EPTA,EHTA/
EMG     EST,CSTM,MPT,DIT,GEOM2,,,,,,BGPDT,,,,/ 
        KELM,KDICT,MELM,MDICT,BELM,BDICT/ 
        S,N,NOKGG $ ELEMENT MATRIX GENERATOR
$       KELM--ELEMENT STIFFNESS MATRICIES
$       KDICT--DICTIONARY FOR KELM
$       MELM--ELEMENT MASS MATRICIES
$       MDICT--DICTIONARY FOR MELM
$       BELM--ELEMENT DAMPING MATRICIES
$       BDICT--DICTIONARY FOR BELM
EMA     GPECT,KDICT,KELM,BGPDT,SIL,CSTM,,/KGG,/ $ ELEMENT MATRIX ASSEMBLY
$       KGG--GLOBAL STIFFNES MATRIX
EMA     GPECT,MDICT,MELM,BGPDT,SIL,CSTM,,/MGG,/-1/V,Y,WTMASS $
$       MGG--GLOBAL MASS MATRIX
$SSG1    SLT,BGPDT,CSTM,SIL,EST,MPT,ETT,EDT,MGG,CASECC,DIT,,,,,/PG,,/LUSET/1 $ STATIC LOAD GENERATOR
SSG1    SLT,BGPDT,CSTM,SIL,EST,MPT,ETT,EDT,MGG,CASECC,DIT,,,,,/PG,,/
        LUSET/1 $ STATIC LOAD GENERATOR
$       PG--GLOBAL LOAD MATRIX
VECPLOT PG,BGPDT,EQEXIN,CSTM,CASECC,,,/PP/V,Y,GRDPNT/0/1/'OLOAD' $
$       PP--LOADS IN BASIC  VECPLOT OUTPUTS LOAD RESULTANTS
GP4     CASECC,GEOM4,EQEXIN,SIL,GPDT,BGPDT,CSTM,,,,,/RG,YS,USET,/
        LUSET/S,N,NOMSET/S,N,NOSSET/S,N,NOOSET/S,N,NORSET/0/0/
        0/0/ $
$       RG--RIGID CONSTRAINT MATRIX  G SET
$       YS--ENFORCED DISPLACEMENTS   S SET
$       USET--DISPLACEMENT SET DEFINITION TABLE
$ALTER 16 $ INSERT AFTER GP4
TABPRT BGPDT// $ GRID LOCATIONS
TABPRT CSTM// $ COORDINATE SYSTEM TRANSFORMATIONS
TABPRT EQEXIN// $ EXTERNAL TO INTERNAL GRID ID
TABPRT GPDT// $ GRID DATA AS INPUT
TABPRT GPL// $ INTERNAL TO EXTERNAL TABLE OF GRIDS
TABPRT ETT// $ ELEMENT TEMPERATURE TABLE
TABPRT USET,EQEXIN//'USET'/0 $ SET MEMBERSHIP
TABPRT USET,EQEXIN//'USET'/1 $ SET MEMBERSHIP
ELTPRT ECT,GPECT,BGPDT,GPL,EST,// $ CONNECTION DATA AND ELEMENT MEASURE
OUTPUT2 GPL,BGPDT//-1/11/'MYDATA' $ PUT GPL AND BGPDT ONTO FORTRAN
$       BINARY UNIT 11 FOR POST PROCESSING
SCE1    USET,KGG,,,/KFF,KFS,KSS,,,/ $ SINGLE POINT CONSTRAINT ELIMINATOR
$       KFF--STIFFNESS MATRIX  F SET
$       KSS--STIFFNESS MATRIX  S SET
$       KFS--STIFFNESS MATRIX
RBMG2   KFF/LLL,/ $ DECOMPOSE STIFFNESS MATRIX
$       LLL--LOWER TRIANGULAR FACTOR MATRIX
SSG2    USET,,YS,KFS,,,PG/QR,POS,PS,PA,PL/ $ LOAD REDUCTION
$       QR--REACTIONS AT SUPORT POINTS
$       POS--LOADS ON OMITTED POINTS
$       PS--LOADS ON S POINTS
$       PA--LOADS ON ANALYSIS (A SET) POINTS
$       PL--LOADS ON L SET POINTS
SSG3    LLL,,KFF,PL,,,,/ULV,,RULVS,/1/0 $ SOLVE FOR DISPLACEMENTS
$       ULV--INDEPENDENT DISPLACEMENTS
$       RULVS--RESIDUAL VECTOR
SDR1    USET,,ULV,,YS,,,PS,KFS,KSS,QR/UGV,,QG/1/'STATICS' $ RECOVER
$       DEPENDENT DISPLACEMENTS
$       UGV--DISPLACEMENT VECTORS  G SET
$       QG--FORCES OF CONSTRAINT   G SET
VECPLOT QG,BGPDT,EQEXIN,CSTM,CASECC,,,/QGSUM/V,Y,GRDPNT/0/1/'SPCFORCE' $
$       QGSUM--QG VECTOR IN BASIC COORDINATES
SDR2    CASECC,CSTM,MPT,DIT,EQEXIN,,ETT,EDT,BGPDT,PG,QG,UGV,EST,
        XYCDB,,,/OPG,OQG,OUGV,OES,OEF,PUGV/'STATICS' $
$       OPG--LOADS LABELED FOR OUTPUT
$       OQG--CONSTRAINT FORCES LABELED FOR OUTPUT
$       OUGV-DISPLACEMENTS LABELED FOR OUTPUT
$       OES--ELEMENT STRESSES LABELED FOR OUTPUT
$       OEF--ELEMENT FORCES LABELED FOR OUTPUT
$       PUGV--PLOTTING TABLE READY FOR DEFORMED PLOTS
OFP     OPG,OQG,OUGV,OES,OEF// $ PRINT/PUNCH RESULTS
COND    P2S,JPLOT $ SKIP DEFORMED PLOT IF NO REQUEST
$PLOT    PLTPAR,GPSET,ELSET,CASECC,BGPDT,EQEXIN,SIL,PUGV,PUGV,GPECT,OES/
PLOT    PLTPAR,GPSET,ELSET,CASECC,BGPDT,PUGV,PUGV,GPECT,OES/
        PLOTX2/NSILS/0/JPLOT/-1/S,N,PFILE $ PLOT DEFORMED AND
$       CONTOUR PLOTS
$       PLOTX2--PLOT MESSAGES AND CONTOUR SYMBOLS
PRTMSG  PLOTX2// $ PRINT PLOT MESSAGES
LABEL   P2S $
ENDALTER
LINK USERDMAP
CEND
SPC=1
TITLE = THREE-PANEL TRUSS                                      UM533
SEALL = ALL
DISP= ALL
SPCF = ALL
OLOAD = ALL
STRESS=ALL
ELFORCE=ALL
SUBCASE 1
LABEL = FORCE LOAD
LOAD=1
SUBCASE 2
LABEL = THERMAL ANALYSIS
TEMP(LOAD)=100
OUTPUT(PLOT)
CSCALE 1.2
PLOTTER NAST
SET 1 INCLUDE ALL
FIND
PLOT SET 1
PLOT STATIC DEFORMATION SET 1
$ LAST MODIFIED 30-AUG-1988 -- ADDED "," TO GP1 MODULE OUTPUTS (JFC)
$ MODIFIED 11-JAN-1996 -- ADDED ",,," to EMG MODULE INPUT for v69 (ABB)
$                         ADDED ",,"  TO GP2 MODULE INPUT FOR V69 (ABB)
$                         ADDED ","   TO GP2 MODULE OUTPUT FOR V69 (ABB)
$                         ADDED ",,"  TO TA1 MODULE INPUT FOR V69 (ABB)             
BEGIN BULK =
CROD    1       1       1       2
CROD    2       2       1       3
CROD    3       3       2       3
CROD    4       1       2       4
CROD    5       1       3       4
CROD    6       3       3       5
CROD    7       3       4       5
CONROD,8,5,6,1,21.16
CROD    9       1       4       6
FORCE   1       2       0       120.0E1         -1.0
FORCE   1       4       0       240.0           -1.0
QVOL,123,1.E+2,,1,THRU,9
GRID,1,0,0.,0.,0.,00,3456
GRID,2,0,180.,0.,0.,00,3456
GRID    3       0       180.0   240.0   0.0     0       3456
GRID    4       0       360.0   0.0     0.0     0       3456
GRID    5       0       360.0   240.0   0.0     0       3456
GRID    6       0       540.0   0.0     0.0     0       3456
MAT1,1,30.0E3,,,1.,6.5-6,5.37+2,,+MAT1
*MAT1   16.99235344     11.814744801    1.E04
MAT4,1,.6,.2 $
PROD    1       1       7.97
PROD    2       1       21.16
PROD    3       1       11.77
SPC     1       1       1       0.0     1       2       0.0
SPC     1       6       2       0.0
TEMPD,100,316.2
PARAM,POST,0
CORD2R,33,0,0.,0.,0.,0.,0.,1.,+CORD1
+CORD1,1.,1.,0.
ENDDATA

